{"version":3,"sources":["../../../../../src/core/shared/infra/testing/helpers.ts"],"sourcesContent":["import { Config } from './../config';\nimport { Sequelize, SequelizeOptions } from \"sequelize-typescript\";\n\nexport function setupSequelize(options: SequelizeOptions = {}) {\n  let _sequelize: Sequelize;\n\n  beforeAll(async () => {\n    _sequelize = new Sequelize({\n      ...Config.db(),\n      ...options,\n    });\n\n    await _sequelize.sync({ force: true });\n  });\n\n  beforeEach(async () => {\n    await _sequelize.sync({ force: true });\n  });\n\n  afterAll(async () => {\n    await _sequelize.close();\n  });\n\n  return {\n    get sequelize() {\n      return _sequelize;\n    }\n  }\n}\n"],"names":["setupSequelize","options","_sequelize","beforeAll","Sequelize","Config","db","sync","force","beforeEach","afterAll","close","sequelize"],"mappings":";;;;+BAGgBA;;;eAAAA;;;wBAHO;qCACqB;AAErC,SAASA,eAAeC,UAA4B,CAAC,CAAC;IAC3D,IAAIC;IAEJC,UAAU;QACRD,aAAa,IAAIE,8BAAS,CAAC;YACzB,GAAGC,cAAM,CAACC,EAAE,EAAE;YACd,GAAGL,OAAO;QACZ;QAEA,MAAMC,WAAWK,IAAI,CAAC;YAAEC,OAAO;QAAK;IACtC;IAEAC,WAAW;QACT,MAAMP,WAAWK,IAAI,CAAC;YAAEC,OAAO;QAAK;IACtC;IAEAE,SAAS;QACP,MAAMR,WAAWS,KAAK;IACxB;IAEA,OAAO;QACL,IAAIC,aAAY;YACd,OAAOV;QACT;IACF;AACF"}