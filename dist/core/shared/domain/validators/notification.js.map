{"version":3,"sources":["../../../../../src/core/shared/domain/validators/notification.ts"],"sourcesContent":["export class Notification {\n  errors = new Map<string, string[] | string>();\n\n  addError(error: string, field?: string) {\n    if (field) {\n      const errors = (this.errors.get(field) ?? []) as string[];\n      errors.indexOf(error) === -1 && errors.push(error);\n      this.errors.set(field, errors);\n    } else {\n      this.errors.set(error, error);\n    }\n  }\n\n  setError(error: string | string[], field?: string) {\n    if (field) {\n      this.errors.set(field, Array.isArray(error) ? error : [error]);\n    } else {\n      if (Array.isArray(error)) {\n        error.forEach((value) => {\n          this.errors.set(value, value);\n        });\n        return;\n      }\n      this.errors.set(error, error);\n    }\n  }\n\n  hasErrors(): boolean {\n    return this.errors.size > 0;\n  }\n\n  copyErrors(notification: Notification) {\n    notification.errors.forEach((value, field) => {\n      this.setError(value, field);\n    });\n  }\n\n  toJSON() {\n    const errors: Array<string | { [key: string]: string[] }> = [];\n    this.errors.forEach((value, key) => {\n      if (typeof value === 'string') {\n        errors.push(value);\n      } else {\n        errors.push({ [key]: value });\n      }\n    });\n    return errors;\n  }\n}"],"names":["Notification","addError","error","field","errors","get","indexOf","push","set","setError","Array","isArray","forEach","value","hasErrors","size","copyErrors","notification","toJSON","key","Map"],"mappings":";;;;+BAAaA;;;eAAAA;;;AAAN,IAAA,AAAMA,eAAN,MAAMA;IAGXC,SAASC,KAAa,EAAEC,KAAc,EAAE;QACtC,IAAIA,OAAO;YACT,MAAMC,SAAU,IAAI,CAACA,MAAM,CAACC,GAAG,CAACF,UAAU,EAAE;YAC5CC,OAAOE,OAAO,CAACJ,WAAW,CAAC,KAAKE,OAAOG,IAAI,CAACL;YAC5C,IAAI,CAACE,MAAM,CAACI,GAAG,CAACL,OAAOC;QACzB,OAAO;YACL,IAAI,CAACA,MAAM,CAACI,GAAG,CAACN,OAAOA;QACzB;IACF;IAEAO,SAASP,KAAwB,EAAEC,KAAc,EAAE;QACjD,IAAIA,OAAO;YACT,IAAI,CAACC,MAAM,CAACI,GAAG,CAACL,OAAOO,MAAMC,OAAO,CAACT,SAASA,QAAQ;gBAACA;aAAM;QAC/D,OAAO;YACL,IAAIQ,MAAMC,OAAO,CAACT,QAAQ;gBACxBA,MAAMU,OAAO,CAAC,CAACC;oBACb,IAAI,CAACT,MAAM,CAACI,GAAG,CAACK,OAAOA;gBACzB;gBACA;YACF;YACA,IAAI,CAACT,MAAM,CAACI,GAAG,CAACN,OAAOA;QACzB;IACF;IAEAY,YAAqB;QACnB,OAAO,IAAI,CAACV,MAAM,CAACW,IAAI,GAAG;IAC5B;IAEAC,WAAWC,YAA0B,EAAE;QACrCA,aAAab,MAAM,CAACQ,OAAO,CAAC,CAACC,OAAOV;YAClC,IAAI,CAACM,QAAQ,CAACI,OAAOV;QACvB;IACF;IAEAe,SAAS;QACP,MAAMd,SAAsD,EAAE;QAC9D,IAAI,CAACA,MAAM,CAACQ,OAAO,CAAC,CAACC,OAAOM;YAC1B,IAAI,OAAON,UAAU,UAAU;gBAC7BT,OAAOG,IAAI,CAACM;YACd,OAAO;gBACLT,OAAOG,IAAI,CAAC;oBAAE,CAACY,IAAI,EAAEN;gBAAM;YAC7B;QACF;QACA,OAAOT;IACT;;aA9CAA,SAAS,IAAIgB;;AA+Cf"}