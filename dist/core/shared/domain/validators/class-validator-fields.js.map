{"version":3,"sources":["../../../../../src/core/shared/domain/validators/class-validator-fields.ts"],"sourcesContent":["import { validateSync } from 'class-validator';\nimport { FieldsErrors, IValidatorFields } from './validator-fields-interface';\nimport { Notification } from './notification';\n\nexport abstract class ClassValidatorFields implements IValidatorFields {\n  validate(notification: Notification,  data: any, fields: string[]): boolean {\n    const errors = validateSync(data, {\n      groups: fields,\n    });\n    if (errors.length) {\n      for (const error of errors) {\n        const field = error.property;\n        Object.values(error.constraints!).forEach((message) => {\n          notification.addError(message, field);\n        });\n      }\n    } \n    return !errors.length;\n  }\n}\n"],"names":["ClassValidatorFields","validate","notification","data","fields","errors","validateSync","groups","length","error","field","property","Object","values","constraints","forEach","message","addError"],"mappings":";;;;+BAIsBA;;;eAAAA;;;gCAJO;AAItB,IAAA,AAAeA,uBAAf,MAAeA;IACpBC,SAASC,YAA0B,EAAGC,IAAS,EAAEC,MAAgB,EAAW;QAC1E,MAAMC,SAASC,IAAAA,4BAAY,EAACH,MAAM;YAChCI,QAAQH;QACV;QACA,IAAIC,OAAOG,MAAM,EAAE;YACjB,KAAK,MAAMC,SAASJ,OAAQ;gBAC1B,MAAMK,QAAQD,MAAME,QAAQ;gBAC5BC,OAAOC,MAAM,CAACJ,MAAMK,WAAW,EAAGC,OAAO,CAAC,CAACC;oBACzCd,aAAae,QAAQ,CAACD,SAASN;gBACjC;YACF;QACF;QACA,OAAO,CAACL,OAAOG,MAAM;IACvB;AACF"}