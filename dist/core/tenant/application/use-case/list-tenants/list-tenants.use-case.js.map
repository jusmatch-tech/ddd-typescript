{"version":3,"sources":["../../../../../../src/core/tenant/application/use-case/list-tenants/list-tenants.use-case.ts"],"sourcesContent":["import { PaginationOutput, PaginationOutputMapper } from \"../../../../shared/application/pagination-output\";\nimport { IUseCase } from \"../../../../shared/application/use-case.interface\";\nimport { SortDirection } from \"../../../../shared/domain/repository/search-params\";\nimport { ITenantRepository, TenantFilter, TenantSearchParams, TenantSearchResult } from \"../../../domain/tenant.repository\";\nimport { TenantOutput, TenantOutputMapper } from \"../common/tenant-output\";\nimport { ListTenantsInput } from \"./list-tenants.input\";\n\nexport class ListTenantsUseCase implements IUseCase<ListTenantsInput, ListTenantsOutput> {\n\n  constructor(private readonly tenantRepo: ITenantRepository) { }\n  \n  async execute(input: ListTenantsInput): Promise<ListTenantsOutput> {\n    const params = new TenantSearchParams(input);\n    const searchResult = await this.tenantRepo.search(params);\n    return this.toOutput(searchResult);\n  }\n\n  private toOutput(searchResult: TenantSearchResult): ListTenantsOutput {\n    const { items: _items } = searchResult;\n    const items = _items.map((i) => {\n      return TenantOutputMapper.toOutput(i);\n    });\n    return PaginationOutputMapper.toOutput(items, searchResult)\n  }\n}\n\nexport type ListTenantsOutput = PaginationOutput<TenantOutput>;"],"names":["ListTenantsUseCase","execute","input","params","TenantSearchParams","searchResult","tenantRepo","search","toOutput","items","_items","map","i","TenantOutputMapper","PaginationOutputMapper","constructor"],"mappings":";;;;+BAOaA;;;eAAAA;;;kCAP4C;kCAG+B;8BACvC;AAG1C,IAAA,AAAMA,qBAAN,MAAMA;IAIX,MAAMC,QAAQC,KAAuB,EAA8B;QACjE,MAAMC,SAAS,IAAIC,oCAAkB,CAACF;QACtC,MAAMG,eAAe,MAAM,IAAI,CAACC,UAAU,CAACC,MAAM,CAACJ;QAClD,OAAO,IAAI,CAACK,QAAQ,CAACH;IACvB;IAEQG,SAASH,YAAgC,EAAqB;QACpE,MAAM,EAAEI,OAAOC,MAAM,EAAE,GAAGL;QAC1B,MAAMI,QAAQC,OAAOC,GAAG,CAAC,CAACC;YACxB,OAAOC,gCAAkB,CAACL,QAAQ,CAACI;QACrC;QACA,OAAOE,wCAAsB,CAACN,QAAQ,CAACC,OAAOJ;IAChD;IAdAU,YAAY,AAAiBT,UAA6B,CAAE;aAA/BA,aAAAA;IAAiC;AAehE"}