{"version":3,"sources":["../../../../src/nest-modules/shared-module/__tests__/collection.presenter.spec.ts"],"sourcesContent":["import { instanceToPlain } from 'class-transformer';\nimport { CollectionPresenter } from '../collection.presenter';\nimport { PaginationPresenter } from '../pagination.presenter';\n\nclass StubCollectionPresenter extends CollectionPresenter {\n  data = [1, 2, 3];\n}\n\ndescribe('CollectionPresenter Unit Tests', () => {\n  describe('constructor', () => {\n    it('should set values', () => {\n      const presenter = new StubCollectionPresenter({\n        current_page: 1,\n        per_page: 2,\n        last_page: 3,\n        total: 4,\n      });\n\n      expect(presenter['paginationPresenter']).toBeInstanceOf(\n        PaginationPresenter,\n      );\n      expect(presenter['paginationPresenter'].current_page).toBe(1);\n      expect(presenter['paginationPresenter'].per_page).toBe(2);\n      expect(presenter['paginationPresenter'].last_page).toBe(3);\n      expect(presenter['paginationPresenter'].total).toBe(4);\n      expect(presenter.meta).toEqual(presenter['paginationPresenter']);\n    });\n  });\n\n  it('should presenter data', () => {\n    let presenter = new StubCollectionPresenter({\n      current_page: 1,\n      per_page: 2,\n      last_page: 3,\n      total: 4,\n    });\n\n    expect(instanceToPlain(presenter)).toStrictEqual({\n      data: [1, 2, 3],\n      meta: {\n        current_page: 1,\n        per_page: 2,\n        last_page: 3,\n        total: 4,\n      },\n    });\n\n    presenter = new StubCollectionPresenter({\n      current_page: '1' as any,\n      per_page: '2' as any,\n      last_page: '3' as any,\n      total: '4' as any,\n    });\n\n    expect(instanceToPlain(presenter)).toStrictEqual({\n      data: [1, 2, 3],\n      meta: {\n        current_page: 1,\n        per_page: 2,\n        last_page: 3,\n        total: 4,\n      },\n    });\n  });\n});\n"],"names":["StubCollectionPresenter","CollectionPresenter","data","describe","it","presenter","current_page","per_page","last_page","total","expect","toBeInstanceOf","PaginationPresenter","toBe","meta","toEqual","instanceToPlain","toStrictEqual"],"mappings":";;;;kCAAgC;qCACI;qCACA;AAEpC,IAAA,AAAMA,0BAAN,MAAMA,gCAAgCC,wCAAmB;;;aACvDC,OAAO;YAAC;YAAG;YAAG;SAAE;;AAClB;AAEAC,SAAS,kCAAkC;IACzCA,SAAS,eAAe;QACtBC,GAAG,qBAAqB;YACtB,MAAMC,YAAY,IAAIL,wBAAwB;gBAC5CM,cAAc;gBACdC,UAAU;gBACVC,WAAW;gBACXC,OAAO;YACT;YAEAC,OAAOL,SAAS,CAAC,sBAAsB,EAAEM,cAAc,CACrDC,wCAAmB;YAErBF,OAAOL,SAAS,CAAC,sBAAsB,CAACC,YAAY,EAAEO,IAAI,CAAC;YAC3DH,OAAOL,SAAS,CAAC,sBAAsB,CAACE,QAAQ,EAAEM,IAAI,CAAC;YACvDH,OAAOL,SAAS,CAAC,sBAAsB,CAACG,SAAS,EAAEK,IAAI,CAAC;YACxDH,OAAOL,SAAS,CAAC,sBAAsB,CAACI,KAAK,EAAEI,IAAI,CAAC;YACpDH,OAAOL,UAAUS,IAAI,EAAEC,OAAO,CAACV,SAAS,CAAC,sBAAsB;QACjE;IACF;IAEAD,GAAG,yBAAyB;QAC1B,IAAIC,YAAY,IAAIL,wBAAwB;YAC1CM,cAAc;YACdC,UAAU;YACVC,WAAW;YACXC,OAAO;QACT;QAEAC,OAAOM,IAAAA,iCAAe,EAACX,YAAYY,aAAa,CAAC;YAC/Cf,MAAM;gBAAC;gBAAG;gBAAG;aAAE;YACfY,MAAM;gBACJR,cAAc;gBACdC,UAAU;gBACVC,WAAW;gBACXC,OAAO;YACT;QACF;QAEAJ,YAAY,IAAIL,wBAAwB;YACtCM,cAAc;YACdC,UAAU;YACVC,WAAW;YACXC,OAAO;QACT;QAEAC,OAAOM,IAAAA,iCAAe,EAACX,YAAYY,aAAa,CAAC;YAC/Cf,MAAM;gBAAC;gBAAG;gBAAG;aAAE;YACfY,MAAM;gBACJR,cAAc;gBACdC,UAAU;gBACVC,WAAW;gBACXC,OAAO;YACT;QACF;IACF;AACF"}