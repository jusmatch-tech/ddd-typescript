{"version":3,"sources":["../../../src/nest-modules/tenants-module/tenants.controller.ts"],"sourcesContent":["import {\n  Controller,\n  Get,\n  Post,\n  Body,\n  Patch,\n  Param,\n  Delete,\n  Inject,\n  ParseUUIDPipe,\n  HttpCode,\n  Query,\n} from '@nestjs/common';\nimport { CreateTenantDto } from './dto/create-tenant.dto';\nimport { UpdateTenantDto } from './dto/update-tenant.dto';\nimport { CreateTenantUseCase } from '@core/tenant/application/use-case/create-tenant/create-tenant.use-case';\nimport { UpdateTenantUseCase } from '@core/tenant/application/use-case/update-tenant/update-tenant.use-case';\nimport { DeleteTenantUseCase } from '@core/tenant/application/use-case/delete-tenant/delete-tenant.use-case';\nimport { GetTenantUseCase } from '@core/tenant/application/use-case/get-tenant/get-tenant.use-case';\nimport { ListTenantsUseCase } from '@core/tenant/application/use-case/list-tenants/list-tenants.use-case';\nimport {\n  TenantPresenter,\n  TenantCollectionPresenter,\n} from './tenants.presenter';\nimport { TenantOutput } from '@core/tenant/application/use-case/common/tenant-output';\nimport { SearchTenantsDto } from './dto/search-tenants.dto';\n\n@Controller('tenants')\nexport class TenantsController {\n  @Inject(CreateTenantUseCase)\n  private createUseCase: CreateTenantUseCase;\n\n  @Inject(UpdateTenantUseCase)\n  private updateUseCase: UpdateTenantUseCase;\n\n  @Inject(DeleteTenantUseCase)\n  private deleteUseCase: DeleteTenantUseCase;\n\n  @Inject(GetTenantUseCase)\n  private getUseCase: GetTenantUseCase;\n\n  @Inject(ListTenantsUseCase)\n  private listUseCase: ListTenantsUseCase;\n\n  @Post()\n  async create(@Body() createTenantDto: CreateTenantDto) {\n    const output = await this.createUseCase.execute(createTenantDto);\n    return TenantsController.serialize(output);\n  }\n\n  @Get()\n  async search(@Query() searchParamsDto: SearchTenantsDto) {\n    const output = await this.listUseCase.execute(searchParamsDto);\n    return new TenantCollectionPresenter(output);\n  }\n\n  @Get(':id')\n  async findOne(\n    @Param('id', new ParseUUIDPipe({ errorHttpStatusCode: 422 })) id: string,\n  ) {\n    const output = await this.getUseCase.execute({ id });\n    return TenantsController.serialize(output);\n  }\n\n  @Patch(':id')\n  async update(\n    @Param('id', new ParseUUIDPipe({ errorHttpStatusCode: 422 })) id: string,\n    @Body() updateTenantDto: UpdateTenantDto,\n  ) {\n    const output = await this.updateUseCase.execute({\n      ...updateTenantDto,\n      id,\n    });\n    return TenantsController.serialize(output);\n  }\n\n  @HttpCode(204)\n  @Delete(':id')\n  remove(\n    @Param('id', new ParseUUIDPipe({ errorHttpStatusCode: 422 })) id: string,\n  ) {\n    return this.deleteUseCase.execute({ id });\n  }\n\n  static serialize(output: TenantOutput) {\n    return new TenantPresenter(output);\n  }\n}\n"],"names":["TenantsController","create","createTenantDto","output","createUseCase","execute","serialize","search","searchParamsDto","listUseCase","TenantCollectionPresenter","findOne","id","getUseCase","update","updateTenantDto","updateUseCase","remove","deleteUseCase","TenantPresenter","Inject","CreateTenantUseCase","UpdateTenantUseCase","DeleteTenantUseCase","GetTenantUseCase","ListTenantsUseCase","Post","Body","Get","Query","Param","ParseUUIDPipe","errorHttpStatusCode","Patch","HttpCode","Delete","Controller"],"mappings":";;;;+BA4BaA;;;eAAAA;;;wBAhBN;iCACyB;iCACA;qCACI;qCACA;qCACA;kCACH;oCACE;kCAI5B;kCAE0B;;;;;;;;;;;;;;;AAG1B,IAAA,AAAMA,oBAAN,MAAMA;IAgBX,MACMC,OAAO,AAAQC,eAAgC,EAAE;QACrD,MAAMC,SAAS,MAAM,IAAI,CAACC,aAAa,CAACC,OAAO,CAACH;QAChD,OAAOF,kBAAkBM,SAAS,CAACH;IACrC;IAEA,MACMI,OAAO,AAASC,eAAiC,EAAE;QACvD,MAAML,SAAS,MAAM,IAAI,CAACM,WAAW,CAACJ,OAAO,CAACG;QAC9C,OAAO,IAAIE,2CAAyB,CAACP;IACvC;IAEA,MACMQ,QACJ,AAA8DC,EAAU,EACxE;QACA,MAAMT,SAAS,MAAM,IAAI,CAACU,UAAU,CAACR,OAAO,CAAC;YAAEO;QAAG;QAClD,OAAOZ,kBAAkBM,SAAS,CAACH;IACrC;IAEA,MACMW,OACJ,AAA8DF,EAAU,EACxE,AAAQG,eAAgC,EACxC;QACA,MAAMZ,SAAS,MAAM,IAAI,CAACa,aAAa,CAACX,OAAO,CAAC;YAC9C,GAAGU,eAAe;YAClBH;QACF;QACA,OAAOZ,kBAAkBM,SAAS,CAACH;IACrC;IAIAc,OACE,AAA8DL,EAAU,EACxE;QACA,OAAO,IAAI,CAACM,aAAa,CAACb,OAAO,CAAC;YAAEO;QAAG;IACzC;IAEA,OAAON,UAAUH,MAAoB,EAAE;QACrC,OAAO,IAAIgB,iCAAe,CAAChB;IAC7B;AACF;;IA1DGiB,IAAAA,cAAM,EAACC,wCAAmB;uCACJ,wCAAmB,4BAAnB,wCAAmB;GAF/BrB;;IAIVoB,IAAAA,cAAM,EAACE,wCAAmB;uCACJ,wCAAmB,4BAAnB,wCAAmB;GAL/BtB;;IAOVoB,IAAAA,cAAM,EAACG,wCAAmB;uCACJ,wCAAmB,4BAAnB,wCAAmB;GAR/BvB;;IAUVoB,IAAAA,cAAM,EAACI,kCAAgB;uCACJ,kCAAgB,4BAAhB,kCAAgB;GAXzBxB;;IAaVoB,IAAAA,cAAM,EAACK,sCAAkB;uCACL,sCAAkB,4BAAlB,sCAAkB;GAd5BzB;;IAgBV0B,IAAAA,YAAI;IACSC,aAAAA,IAAAA,YAAI;;;eAAoB,gCAAe,4BAAf,gCAAe;;;GAjB1C3B;;IAsBV4B,IAAAA,WAAG;IACUC,aAAAA,IAAAA,aAAK;;;eAAoB,kCAAgB,4BAAhB,kCAAgB;;;GAvB5C7B;;IA4BV4B,IAAAA,WAAG,EAAC;IAEFE,aAAAA,IAAAA,aAAK,EAAC,MAAM,IAAIC,qBAAa,CAAC;QAAEC,qBAAqB;IAAI;;;;;;GA9BjDhC;;IAoCViC,IAAAA,aAAK,EAAC;IAEJH,aAAAA,IAAAA,aAAK,EAAC,MAAM,IAAIC,qBAAa,CAAC;QAAEC,qBAAqB;IAAI;IACzDL,aAAAA,IAAAA,YAAI;;;;eAAoB,gCAAe,4BAAf,gCAAe;;;GAvC/B3B;;IAgDVkC,IAAAA,gBAAQ,EAAC;IACTC,IAAAA,cAAM,EAAC;IAELL,aAAAA,IAAAA,aAAK,EAAC,MAAM,IAAIC,qBAAa,CAAC;QAAEC,qBAAqB;IAAI;;;;;;GAnDjDhC;AAAAA;IADZoC,IAAAA,kBAAU,EAAC;GACCpC"}